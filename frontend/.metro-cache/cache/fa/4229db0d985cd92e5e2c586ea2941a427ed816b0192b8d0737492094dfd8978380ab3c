{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../../../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":64},"end":{"line":3,"column":50,"index":114}}],"key":"AI/OUAil3Z67B7bUiML5DX0dlDY=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":419},"end":{"line":9,"column":58,"index":477}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../proxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":478},"end":{"line":10,"column":40,"index":518}}],"key":"7t6p+wFqa3TKNDAU+WlzybERgtk=","exportNames":["*"],"imports":1}},{"name":"../registry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":519},"end":{"line":11,"column":63,"index":582}}],"key":"+3OEoU3axqFWWFPE7MDTZN/6GXQ=","exportNames":["*"],"imports":1}},{"name":"./CSSAnimationsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":583},"end":{"line":12,"column":58,"index":641}}],"key":"X2ik9T2ZsWfj6PeeQq7cEYjcYpE=","exportNames":["*"],"imports":1}},{"name":"./CSSTransitionsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":642},"end":{"line":13,"column":60,"index":702}}],"key":"phIeZpg1RoTOiEN4jyxPHJoIHaw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return CSSManager;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _common = require(_dependencyMap[3], \"../../../common\");\n  var _utils = require(_dependencyMap[4], \"../../utils\");\n  var _proxy = require(_dependencyMap[5], \"../proxy\");\n  var _registry = require(_dependencyMap[6], \"../registry\");\n  var _CSSAnimationsManager = require(_dependencyMap[7], \"./CSSAnimationsManager\");\n  var CSSAnimationsManager = _interopDefault(_CSSAnimationsManager);\n  var _CSSTransitionsManager = require(_dependencyMap[8], \"./CSSTransitionsManager\");\n  var CSSTransitionsManager = _interopDefault(_CSSTransitionsManager);\n  var CSSManager = /*#__PURE__*/function () {\n    function CSSManager(_ref) {\n      var shadowNodeWrapper = _ref.shadowNodeWrapper,\n        viewTag = _ref.viewTag,\n        _ref$viewName = _ref.viewName,\n        viewName = _ref$viewName === void 0 ? 'RCTView' : _ref$viewName;\n      (0, _classCallCheck.default)(this, CSSManager);\n      this.styleBuilder = null;\n      this.isFirstUpdate = true;\n      var tag = this.viewTag = viewTag;\n      var wrapper = shadowNodeWrapper;\n      this.viewName = viewName;\n      this.styleBuilder = (0, _registry.hasStyleBuilder)(viewName) ? (0, _registry.getStyleBuilder)(viewName) : null;\n      this.cssAnimationsManager = new CSSAnimationsManager.default(wrapper, viewName, tag);\n      this.cssTransitionsManager = new CSSTransitionsManager.default(wrapper, tag);\n    }\n    return (0, _createClass.default)(CSSManager, [{\n      key: \"update\",\n      value: function update(style) {\n        var _filterCSSAndStylePro = (0, _utils.filterCSSAndStyleProperties)(style),\n          _filterCSSAndStylePro2 = (0, _slicedToArray.default)(_filterCSSAndStylePro, 3),\n          animationProperties = _filterCSSAndStylePro2[0],\n          transitionProperties = _filterCSSAndStylePro2[1],\n          filteredStyle = _filterCSSAndStylePro2[2];\n        if (!this.styleBuilder && (animationProperties || transitionProperties)) {\n          throw new _common.ReanimatedError(`Tried to apply CSS animations to ${this.viewName} which is not supported`);\n        }\n        var normalizedStyle = this.styleBuilder?.buildFrom(filteredStyle);\n\n        // If the update is called during the first css style update, we won't\n        // trigger CSS transitions and set styles before attaching CSS transitions\n        if (this.isFirstUpdate && normalizedStyle) {\n          (0, _proxy.setViewStyle)(this.viewTag, normalizedStyle);\n        }\n        this.cssTransitionsManager.update(transitionProperties);\n        this.cssAnimationsManager.update(animationProperties);\n\n        // If the current update is not the fist one, we want to update CSS\n        // animations and transitions first and update the style then to make\n        // sure that the new transition is fired with new settings (like duration)\n        if (!this.isFirstUpdate && normalizedStyle) {\n          (0, _proxy.setViewStyle)(this.viewTag, normalizedStyle);\n        }\n        this.isFirstUpdate = false;\n      }\n    }, {\n      key: \"unmountCleanup\",\n      value: function unmountCleanup() {\n        this.cssAnimationsManager.unmountCleanup();\n        this.cssTransitionsManager.unmountCleanup();\n      }\n    }]);\n  }();\n});","lineCount":85,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,1,13,"Object"],[12,8,1,13],[12,9,1,13,"defineProperty"],[12,23,1,13],[12,24,1,13,"exports"],[12,31,1,13],[13,4,1,13,"enumerable"],[13,14,1,13],[14,4,1,13,"get"],[14,7,1,13],[14,18,1,13,"get"],[14,19,1,13],[15,6,1,13],[15,13,15,21,"CSSManager"],[15,23,15,31],[16,4,15,31],[17,2,15,31],[18,2,15,31],[18,6,15,31,"_babelRuntimeHelpersSlicedToArray"],[18,39,15,31],[18,42,15,31,"require"],[18,49,15,31],[18,50,15,31,"_dependencyMap"],[18,64,15,31],[19,2,15,31],[19,6,15,31,"_slicedToArray"],[19,20,15,31],[19,23,15,31,"_interopDefault"],[19,38,15,31],[19,39,15,31,"_babelRuntimeHelpersSlicedToArray"],[19,72,15,31],[20,2,15,31],[20,6,15,31,"_babelRuntimeHelpersClassCallCheck"],[20,40,15,31],[20,43,15,31,"require"],[20,50,15,31],[20,51,15,31,"_dependencyMap"],[20,65,15,31],[21,2,15,31],[21,6,15,31,"_classCallCheck"],[21,21,15,31],[21,24,15,31,"_interopDefault"],[21,39,15,31],[21,40,15,31,"_babelRuntimeHelpersClassCallCheck"],[21,74,15,31],[22,2,15,31],[22,6,15,31,"_babelRuntimeHelpersCreateClass"],[22,37,15,31],[22,40,15,31,"require"],[22,47,15,31],[22,48,15,31,"_dependencyMap"],[22,62,15,31],[23,2,15,31],[23,6,15,31,"_createClass"],[23,18,15,31],[23,21,15,31,"_interopDefault"],[23,36,15,31],[23,37,15,31,"_babelRuntimeHelpersCreateClass"],[23,68,15,31],[24,2,3,0],[24,6,3,0,"_common"],[24,13,3,0],[24,16,3,0,"require"],[24,23,3,0],[24,24,3,0,"_dependencyMap"],[24,38,3,0],[25,2,9,0],[25,6,9,0,"_utils"],[25,12,9,0],[25,15,9,0,"require"],[25,22,9,0],[25,23,9,0,"_dependencyMap"],[25,37,9,0],[26,2,10,0],[26,6,10,0,"_proxy"],[26,12,10,0],[26,15,10,0,"require"],[26,22,10,0],[26,23,10,0,"_dependencyMap"],[26,37,10,0],[27,2,11,0],[27,6,11,0,"_registry"],[27,15,11,0],[27,18,11,0,"require"],[27,25,11,0],[27,26,11,0,"_dependencyMap"],[27,40,11,0],[28,2,12,0],[28,6,12,0,"_CSSAnimationsManager"],[28,27,12,0],[28,30,12,0,"require"],[28,37,12,0],[28,38,12,0,"_dependencyMap"],[28,52,12,0],[29,2,12,0],[29,6,12,0,"CSSAnimationsManager"],[29,26,12,0],[29,29,12,0,"_interopDefault"],[29,44,12,0],[29,45,12,0,"_CSSAnimationsManager"],[29,66,12,0],[30,2,13,0],[30,6,13,0,"_CSSTransitionsManager"],[30,28,13,0],[30,31,13,0,"require"],[30,38,13,0],[30,39,13,0,"_dependencyMap"],[30,53,13,0],[31,2,13,0],[31,6,13,0,"CSSTransitionsManager"],[31,27,13,0],[31,30,13,0,"_interopDefault"],[31,45,13,0],[31,46,13,0,"_CSSTransitionsManager"],[31,68,13,0],[32,2,13,60],[32,6,15,21,"CSSManager"],[32,16,15,31],[33,4,23,2],[33,13,23,2,"CSSManager"],[33,24,23,2,"_ref"],[33,28,23,2],[33,30,23,78],[34,6,23,78],[34,10,23,16,"shadowNodeWrapper"],[34,27,23,33],[34,30,23,33,"_ref"],[34,34,23,33],[34,35,23,16,"shadowNodeWrapper"],[34,52,23,33],[35,8,23,35,"viewTag"],[35,15,23,42],[35,18,23,42,"_ref"],[35,22,23,42],[35,23,23,35,"viewTag"],[35,30,23,42],[36,8,23,42,"_ref$viewName"],[36,21,23,42],[36,24,23,42,"_ref"],[36,28,23,42],[36,29,23,44,"viewName"],[36,37,23,52],[37,8,23,44,"viewName"],[37,16,23,52],[37,19,23,52,"_ref$viewName"],[37,32,23,52],[37,46,23,55],[37,55,23,64],[37,58,23,64,"_ref$viewName"],[37,71,23,64],[38,6,23,64],[38,10,23,64,"_classCallCheck"],[38,25,23,64],[38,26,23,64,"default"],[38,33,23,64],[38,41,23,64,"CSSManager"],[38,51,23,64],[39,6,23,64],[39,11,20,19,"styleBuilder"],[39,23,20,31],[39,26,20,66],[39,30,20,70],[40,6,20,70],[40,11,21,10,"isFirstUpdate"],[40,24,21,23],[40,27,21,35],[40,31,21,39],[41,6,24,4],[41,10,24,10,"tag"],[41,13,24,13],[41,16,24,17],[41,20,24,21],[41,21,24,22,"viewTag"],[41,28,24,29],[41,31,24,32,"viewTag"],[41,38,24,50],[42,6,25,4],[42,10,25,10,"wrapper"],[42,17,25,17],[42,20,25,20,"shadowNodeWrapper"],[42,37,25,58],[43,6,27,4],[43,10,27,8],[43,11,27,9,"viewName"],[43,19,27,17],[43,22,27,20,"viewName"],[43,30,27,28],[44,6,28,4],[44,10,28,8],[44,11,28,9,"styleBuilder"],[44,23,28,21],[44,26,28,24],[44,30,28,24,"hasStyleBuilder"],[44,39,28,39],[44,40,28,39,"hasStyleBuilder"],[44,55,28,39],[44,57,28,40,"viewName"],[44,65,28,48],[44,66,28,49],[44,69,29,8],[44,73,29,8,"getStyleBuilder"],[44,82,29,23],[44,83,29,23,"getStyleBuilder"],[44,98,29,23],[44,100,29,24,"viewName"],[44,108,29,32],[44,109,29,33],[44,112,30,8],[44,116,30,12],[45,6,31,4],[45,10,31,8],[45,11,31,9,"cssAnimationsManager"],[45,31,31,29],[45,34,31,32],[45,38,31,36,"CSSAnimationsManager"],[45,58,31,56],[45,59,31,56,"default"],[45,66,31,56],[45,67,32,6,"wrapper"],[45,74,32,13],[45,76,33,6,"viewName"],[45,84,33,14],[45,86,34,6,"tag"],[45,89,35,4],[45,90,35,5],[46,6,36,4],[46,10,36,8],[46,11,36,9,"cssTransitionsManager"],[46,32,36,30],[46,35,36,33],[46,39,36,37,"CSSTransitionsManager"],[46,60,36,58],[46,61,36,58,"default"],[46,68,36,58],[46,69,36,59,"wrapper"],[46,76,36,66],[46,78,36,68,"tag"],[46,81,36,71],[46,82,36,72],[47,4,37,2],[48,4,37,3],[48,15,37,3,"_createClass"],[48,27,37,3],[48,28,37,3,"default"],[48,35,37,3],[48,37,37,3,"CSSManager"],[48,47,37,3],[49,6,37,3,"key"],[49,9,37,3],[50,6,37,3,"value"],[50,11,37,3],[50,13,39,2],[50,22,39,2,"update"],[50,28,39,8,"update"],[50,29,39,9,"style"],[50,34,39,24],[50,36,39,32],[51,8,40,4],[51,12,40,4,"_filterCSSAndStylePro"],[51,33,40,4],[51,36,41,6],[51,40,41,6,"filterCSSAndStyleProperties"],[51,46,41,33],[51,47,41,33,"filterCSSAndStyleProperties"],[51,74,41,33],[51,76,41,34,"style"],[51,81,41,39],[51,82,41,40],[52,10,41,40,"_filterCSSAndStylePro2"],[52,32,41,40],[52,39,41,40,"_slicedToArray"],[52,53,41,40],[52,54,41,40,"default"],[52,61,41,40],[52,63,41,40,"_filterCSSAndStylePro"],[52,84,41,40],[53,10,40,11,"animationProperties"],[53,29,40,30],[53,32,40,30,"_filterCSSAndStylePro2"],[53,54,40,30],[54,10,40,32,"transitionProperties"],[54,30,40,52],[54,33,40,52,"_filterCSSAndStylePro2"],[54,55,40,52],[55,10,40,54,"filteredStyle"],[55,23,40,67],[55,26,40,67,"_filterCSSAndStylePro2"],[55,48,40,67],[56,8,43,4],[56,12,43,8],[56,13,43,9],[56,17,43,13],[56,18,43,14,"styleBuilder"],[56,30,43,26],[56,35,43,31,"animationProperties"],[56,54,43,50],[56,58,43,54,"transitionProperties"],[56,78,43,74],[56,79,43,75],[56,81,43,77],[57,10,44,6],[57,16,44,12],[57,20,44,16,"ReanimatedError"],[57,27,44,31],[57,28,44,31,"ReanimatedError"],[57,43,44,31],[57,44,45,8],[57,80,45,44],[57,84,45,48],[57,85,45,49,"viewName"],[57,93,45,57],[57,118,46,6],[57,119,46,7],[58,8,47,4],[59,8,49,4],[59,12,49,10,"normalizedStyle"],[59,27,49,25],[59,30,49,28],[59,34,49,32],[59,35,49,33,"styleBuilder"],[59,47,49,45],[59,49,49,47,"buildFrom"],[59,58,49,56],[59,59,49,57,"filteredStyle"],[59,72,49,70],[59,73,49,71],[61,8,51,4],[62,8,52,4],[63,8,53,4],[63,12,53,8],[63,16,53,12],[63,17,53,13,"isFirstUpdate"],[63,30,53,26],[63,34,53,30,"normalizedStyle"],[63,49,53,45],[63,51,53,47],[64,10,54,6],[64,14,54,6,"setViewStyle"],[64,20,54,18],[64,21,54,18,"setViewStyle"],[64,33,54,18],[64,35,54,19],[64,39,54,23],[64,40,54,24,"viewTag"],[64,47,54,31],[64,49,54,33,"normalizedStyle"],[64,64,54,48],[64,65,54,49],[65,8,55,4],[66,8,57,4],[66,12,57,8],[66,13,57,9,"cssTransitionsManager"],[66,34,57,30],[66,35,57,31,"update"],[66,41,57,37],[66,42,57,38,"transitionProperties"],[66,62,57,58],[66,63,57,59],[67,8,58,4],[67,12,58,8],[67,13,58,9,"cssAnimationsManager"],[67,33,58,29],[67,34,58,30,"update"],[67,40,58,36],[67,41,58,37,"animationProperties"],[67,60,58,56],[67,61,58,57],[69,8,60,4],[70,8,61,4],[71,8,62,4],[72,8,63,4],[72,12,63,8],[72,13,63,9],[72,17,63,13],[72,18,63,14,"isFirstUpdate"],[72,31,63,27],[72,35,63,31,"normalizedStyle"],[72,50,63,46],[72,52,63,48],[73,10,64,6],[73,14,64,6,"setViewStyle"],[73,20,64,18],[73,21,64,18,"setViewStyle"],[73,33,64,18],[73,35,64,19],[73,39,64,23],[73,40,64,24,"viewTag"],[73,47,64,31],[73,49,64,33,"normalizedStyle"],[73,64,64,48],[73,65,64,49],[74,8,65,4],[75,8,67,4],[75,12,67,8],[75,13,67,9,"isFirstUpdate"],[75,26,67,22],[75,29,67,25],[75,34,67,30],[76,6,68,2],[77,4,68,3],[78,6,68,3,"key"],[78,9,68,3],[79,6,68,3,"value"],[79,11,68,3],[79,13,70,2],[79,22,70,2,"unmountCleanup"],[79,36,70,16,"unmountCleanup"],[79,37,70,16],[79,39,70,25],[80,8,71,4],[80,12,71,8],[80,13,71,9,"cssAnimationsManager"],[80,33,71,29],[80,34,71,30,"unmountCleanup"],[80,48,71,44],[80,49,71,45],[80,50,71,46],[81,8,72,4],[81,12,72,8],[81,13,72,9,"cssTransitionsManager"],[81,34,72,30],[81,35,72,31,"unmountCleanup"],[81,49,72,45],[81,50,72,46],[81,51,72,47],[82,6,73,2],[83,4,73,3],[84,2,73,3],[85,0,73,3],[85,3]],"functionMap":{"names":["<global>","CSSManager","constructor","update","unmountCleanup"],"mappings":"AAA;eCc;ECQ;GDc;EEE;GF6B;EGE;GHG;CDC"},"hasCjsExports":false},"type":"js/module"}]}